{
    "$id": "EMatouEndorsementSchemaV1",
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "MATOU Endorsement Credential",
    "description": "A credential representing an endorsement of a member's identity, skills, or qualifications",
    "type": "object",
    "credentialType": "MatouEndorsementCredential",
    "version": "1.0.0",
    "properties": {
        "v": {
            "description": "Version string",
            "type": "string"
        },
        "d": {
            "description": "Credential SAID",
            "type": "string"
        },
        "u": {
            "description": "One time use nonce",
            "type": "string"
        },
        "i": {
            "description": "Endorser AID (issuer)",
            "type": "string"
        },
        "ri": {
            "description": "Credential status registry",
            "type": "string"
        },
        "s": {
            "description": "Schema SAID",
            "type": "string"
        },
        "a": {
            "oneOf": [
                {
                    "description": "Attributes block SAID",
                    "type": "string"
                },
                {
                    "description": "Attributes block",
                    "type": "object",
                    "properties": {
                        "d": {
                            "description": "Attributes block SAID",
                            "type": "string"
                        },
                        "i": {
                            "description": "Endorsee AID (credential recipient)",
                            "type": "string"
                        },
                        "dt": {
                            "description": "Issuance date-time",
                            "type": "string",
                            "format": "date-time"
                        },
                        "endorsementType": {
                            "description": "Type of endorsement",
                            "type": "string",
                            "enum": [
                                "identity_verification",
                                "skill_endorsement",
                                "role_competency",
                                "character_reference"
                            ]
                        },
                        "category": {
                            "description": "Specific category (e.g., 'software_development', 'leadership')",
                            "type": "string"
                        },
                        "claim": {
                            "description": "The specific claim being endorsed",
                            "type": "string"
                        },
                        "evidence": {
                            "description": "Optional evidence or context for the endorsement",
                            "type": "string"
                        },
                        "confidence": {
                            "description": "Confidence level of the endorsement",
                            "type": "string",
                            "enum": [
                                "low",
                                "medium",
                                "high",
                                "very_high"
                            ]
                        },
                        "relationship": {
                            "description": "Endorser's relationship to endorsee (e.g., 'colleague', 'mentor')",
                            "type": "string"
                        }
                    },
                    "additionalProperties": false,
                    "required": [
                        "d",
                        "i",
                        "dt",
                        "endorsementType",
                        "claim",
                        "confidence"
                    ]
                }
            ]
        },
        "e": {
            "description": "Edge section linking to the endorsee's membership credential",
            "oneOf": [
                {
                    "description": "Edge block SAID",
                    "type": "string"
                },
                {
                    "description": "Edge block",
                    "type": "object",
                    "properties": {
                        "d": {
                            "description": "Edge block SAID",
                            "type": "string"
                        },
                        "membership": {
                            "description": "Reference to endorsee's membership credential",
                            "type": "object",
                            "properties": {
                                "n": {
                                    "description": "SAID of the membership credential being endorsed",
                                    "type": "string"
                                },
                                "s": {
                                    "description": "Schema SAID of the membership credential",
                                    "type": "string"
                                }
                            },
                            "required": ["n", "s"]
                        }
                    },
                    "additionalProperties": false,
                    "required": ["d", "membership"]
                }
            ]
        }
    },
    "additionalProperties": false,
    "required": [
        "v",
        "d",
        "i",
        "ri",
        "s",
        "a",
        "e"
    ]
}
